<!-- Strategy Dashboard -->
<section class="strategy-dashboard panel" id="strategy">
    <div class="panel-header" data-panel="strategy">
        <h2 class="panel-title">
            <a id="strategy-anchor" class="section-anchor"></a>
            <i class="fas fa-chart-line"></i>
            Strategy Dashboard
        </h2>
        <div class="panel-actions">
            <button class="btn btn-sm btn-outline" id="refresh-strategies">
                <i class="fas fa-sync-alt"></i>
                Refresh
            </button>
            <button class="collapse-toggle" data-target="strategy-content">
                <i class="fas fa-chevron-down"></i>
            </button>
        </div>
    </div>
    
    <div class="panel-content expanded" id="strategy-content">
        <div class="strategy-grid">
        <!-- Iron Condor Strategy -->
        <div class="strategy-card" id="iron-condor-card">
            <div class="strategy-header">
                <div class="strategy-icon">
                    <i class="fas fa-layer-group"></i>
                </div>
                <div class="strategy-info">
                    <h3 class="strategy-name">Iron Condor Strategy <span class="strategy-type">Options Strategy</span></h3>
                    <div class="strategy-type-row">
                        <div class="strategy-controls-row">
                            <div class="strategy-control-item">
                                <label class="control-label">Auto Execute:</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="iron_condor_auto_execute">
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            <div class="strategy-control-item">
                                <label class="control-label">Auto Timer:</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="iron_condor_auto_timer">
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            <!-- Run Strategy Button -->
                            <div class="strategy-run-button">
                                <button class="run-strategy-btn" id="run-iron-condor-btn" data-strategy="iron-condor">
                                    <div class="power-icon">
                                        <i class="fas fa-power-off"></i>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="strategy-status" id="iron-condor-status">
                    <span class="status-text"></span>
                </div>
                
                <!-- Strategy Controls Container -->
                <div class="strategy-controls-container">
                    <!-- Risk Management Controls -->
                    <div class="strategy-risk-controls">
                        <div class="risk-controls-header">
                            <button class="risk-toggle-btn" onclick="toggleRiskControls('iron-condor')">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <h4 class="risk-controls-title">
                                <i class="fas fa-shield-alt"></i>
                                Risk Management
                            </h4>
                            <button class="risk-save-btn" onclick="saveRiskSettings('iron-condor')">
                                <i class="fas fa-save"></i>
                            </button>
                        </div>
                        <div class="risk-controls-grid">
                            <div class="risk-control-item">
                                <label class="risk-control-label">Allocation %</label>
                                <div class="input-group">
                                    <input type="number" id="iron_condor_strategy_allocation" class="risk-input" value="10" min="1" max="100" step="1">
                                    <span class="input-suffix">%</span>
                                </div>
                            </div>
                            <div class="risk-control-item">
                                <label class="risk-control-label">Position %</label>
                                <div class="input-group">
                                    <input type="number" id="iron_condor_position_size" class="risk-input" value="10" min="1" max="100" step="1">
                                    <span class="input-suffix">%</span>
                                </div>
                            </div>
                            <div class="risk-control-item">
                                <label class="risk-control-label">Max Cons</label>
                                <div class="input-group">
                                    <input type="number" id="iron_condor_max_contracts" class="risk-input" value="10" min="1" max="100" step="1">
                                    <span class="input-suffix">contracts</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Market Timing Controls -->
                    <div class="strategy-timing-controls">
                        <div class="timing-controls-header">
                            <button class="timing-toggle-btn" onclick="toggleTimingControls('iron-condor')">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <h4 class="timing-controls-title">
                                <i class="fas fa-clock"></i>
                                Market Timing
                            </h4>
                            <button class="timing-save-btn" onclick="saveTimingSettings('iron-condor')">
                                <i class="fas fa-save"></i>
                            </button>
                        </div>
                        <div class="timing-controls-grid">
                            <div class="timing-control-item">
                                <label class="timing-control-label">Start Time</label>
                                <div class="input-group">
                                    <input type="time" id="iron_condor_start_time" class="timing-input" value="09:30">
                                </div>
                            </div>
                            <div class="timing-control-item">
                                <label class="timing-control-label">Stop Time</label>
                                <div class="input-group">
                                    <input type="time" id="iron_condor_stop_time" class="timing-input" value="16:00">
                                </div>
                            </div>
                            <div class="timing-control-item">
                                <label class="timing-control-label">Market Only</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="iron_condor_market_hours_only" checked>
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Strategy Watchlist -->
                    <div class="strategy-watchlist">
                        <div class="watchlist-header">
                            <button class="watchlist-toggle-btn" onclick="toggleStrategyWatchlist('iron-condor')">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <h4 class="watchlist-title">
                                <i class="fas fa-eye"></i>
                                Strategy Watchlist
                            </h4>
                            <button class="watchlist-add-btn" onclick="addToStrategyWatchlist('iron-condor')">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="watchlist-content">
                            <div class="watchlist-symbols">
                                <!-- Symbols will be loaded dynamically from trading_config_live.json -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="strategy-signals" id="iron-condor-signals">
                <div class="signal-placeholder">
                    <i class="fas fa-clock"></i>
                    <span>Waiting for signals...</span>
                </div>
            </div>
        </div>

        <!-- PML Strategy -->
        <div class="strategy-card" id="pml-card">
            <div class="strategy-header">
                <div class="strategy-icon">
                    <i class="fas fa-mountain"></i>
                </div>
                <div class="strategy-info">
                    <h3 class="strategy-name">Peak Money Line Strategy <span class="strategy-type">Equities Strategy</span></h3>
                    <div class="strategy-type-row">
                        <div class="strategy-controls-row">
                            <div class="strategy-control-item">
                                <label class="control-label">Auto Execute:</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="pml_auto_execute">
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            <div class="strategy-control-item">
                                <label class="control-label">Auto Timer:</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="pml_auto_timer">
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            <!-- Run Strategy Button -->
                            <div class="strategy-run-button">
                                <button class="run-strategy-btn" id="run-pml-btn" data-strategy="pml">
                                    <div class="power-icon">
                                        <i class="fas fa-power-off"></i>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="strategy-status" id="pml-status">
                    <span class="status-text"></span>
                </div>
                
                <!-- Strategy Controls Container -->
                <div class="strategy-controls-container">
                    <!-- Risk Management Controls -->
                    <div class="strategy-risk-controls">
                        <div class="risk-controls-header">
                            <button class="risk-toggle-btn" onclick="toggleRiskControls('pml')">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <h4 class="risk-controls-title">
                                <i class="fas fa-shield-alt"></i>
                                Risk Management
                            </h4>
                            <button class="risk-save-btn" onclick="saveRiskSettings('pml')">
                                <i class="fas fa-save"></i>
                            </button>
                        </div>
                        <div class="risk-controls-grid">
                            <div class="risk-control-item">
                                <label class="risk-control-label">Allocation %</label>
                                <div class="input-group">
                                    <input type="number" id="pml_strategy_allocation" class="risk-input" value="1" min="1" max="100" step="1">
                                    <span class="input-suffix">%</span>
                                </div>
                            </div>
                            <div class="risk-control-item">
                                <label class="risk-control-label">Position %</label>
                                <div class="input-group">
                                    <input type="number" id="pml_position_size" class="risk-input" value="10" min="1" max="100" step="1">
                                    <span class="input-suffix">%</span>
                                </div>
                            </div>
                            <div class="risk-control-item">
                                <label class="risk-control-label">Max Cons</label>
                                <div class="input-group">
                                    <input type="number" id="pml_max_contracts" class="risk-input" value="10" min="1" max="10000" step="1">
                                    <span class="input-suffix">contracts</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Market Timing Controls -->
                    <div class="strategy-timing-controls">
                        <div class="timing-controls-header">
                            <button class="timing-toggle-btn" onclick="toggleTimingControls('pml')">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <h4 class="timing-controls-title">
                                <i class="fas fa-clock"></i>
                                Market Timing
                            </h4>
                            <button class="timing-save-btn" onclick="saveTimingSettings('pml')">
                                <i class="fas fa-save"></i>
                            </button>
                        </div>
                        <div class="timing-controls-grid">
                            <div class="timing-control-item">
                                <label class="timing-control-label">Start Time</label>
                                <div class="input-group">
                                    <input type="time" id="pml_start_time" class="timing-input" value="09:30">
                                </div>
                            </div>
                            <div class="timing-control-item">
                                <label class="timing-control-label">Stop Time</label>
                                <div class="input-group">
                                    <input type="time" id="pml_stop_time" class="timing-input" value="16:00">
                                </div>
                            </div>
                            <div class="timing-control-item">
                                <label class="timing-control-label">Market Only</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="pml_market_hours_only" checked>
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Strategy Watchlist -->
                    <div class="strategy-watchlist">
                        <div class="watchlist-header">
                            <button class="watchlist-toggle-btn" onclick="toggleStrategyWatchlist('pml')">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <h4 class="watchlist-title">
                                <i class="fas fa-eye"></i>
                                Strategy Watchlist
                            </h4>
                            <button class="watchlist-add-btn" onclick="addToStrategyWatchlist('pml')">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="watchlist-content">
                            <div class="watchlist-symbols">
                                <!-- Symbols will be loaded dynamically from trading_config_live.json -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="strategy-signals" id="pml-signals">
                <div class="signal-placeholder">
                    <i class="fas fa-clock"></i>
                    <span>Waiting for signals...</span>
                </div>
            </div>
        </div>

        <!-- Divergence Strategy -->
        <div class="strategy-card" id="divergence-card">
            <div class="strategy-header">
                <div class="strategy-icon">
                    <i class="fas fa-wave-square"></i>
                </div>
                <div class="strategy-info">
                    <h3 class="strategy-name">Divergence Strategy <span class="strategy-type">Stocks & Futures</span></h3>
                    <div class="strategy-type-row">
                        <div class="strategy-controls-row">
                            <div class="strategy-control-item">
                                <label class="control-label">Auto Execute:</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="divergence_auto_execute">
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            <div class="strategy-control-item">
                                <label class="control-label">Auto Timer:</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="divergence_auto_timer">
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            <!-- Run Strategy Button -->
                            <div class="strategy-run-button">
                                <button class="run-strategy-btn" id="run-divergence-btn" data-strategy="divergence">
                                    <div class="power-icon">
                                        <i class="fas fa-power-off"></i>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="strategy-status" id="divergence-status">
                    <span class="status-text"></span>
                </div>
                
                <!-- Strategy Controls Container -->
                <div class="strategy-controls-container">
                    <!-- Risk Management Controls -->
                    <div class="strategy-risk-controls">
                        <div class="risk-controls-header">
                            <button class="risk-toggle-btn" onclick="toggleRiskControls('divergence')">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <h4 class="risk-controls-title">
                                <i class="fas fa-shield-alt"></i>
                                Risk Management
                            </h4>
                            <button class="risk-save-btn" onclick="saveRiskSettings('divergence')">
                                <i class="fas fa-save"></i>
                            </button>
                        </div>
                        <div class="risk-controls-grid">
                            <div class="risk-control-item">
                                <label class="risk-control-label">Allocation %</label>
                                <div class="input-group">
                                    <input type="number" id="divergence_strategy_allocation" class="risk-input" value="10" min="1" max="100" step="1">
                                    <span class="input-suffix">%</span>
                                </div>
                            </div>
                            <div class="risk-control-item">
                                <label class="risk-control-label">Position %</label>
                                <div class="input-group">
                                    <input type="number" id="divergence_position_size" class="risk-input" value="10" min="1" max="100" step="1">
                                    <span class="input-suffix">%</span>
                                </div>
                            </div>
                            <div class="risk-control-item">
                                <label class="risk-control-label">Max Shares</label>
                                <div class="input-group">
                                    <input type="number" id="divergence_max_shares" class="risk-input" value="1" min="1" max="1000000" step="1">
                                    <span class="input-suffix">shares</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Market Timing Controls -->
                    <div class="strategy-timing-controls">
                        <div class="timing-controls-header">
                            <button class="timing-toggle-btn" onclick="toggleTimingControls('divergence')">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <h4 class="timing-controls-title">
                                <i class="fas fa-clock"></i>
                                Market Timing
                            </h4>
                            <button class="timing-save-btn" onclick="saveTimingSettings('divergence')">
                                <i class="fas fa-save"></i>
                            </button>
                        </div>
                        <div class="timing-controls-grid">
                            <div class="timing-control-item">
                                <label class="timing-control-label">Start Time</label>
                                <div class="input-group">
                                    <input type="time" id="divergence_start_time" class="timing-input" value="09:30">
                                </div>
                            </div>
                            <div class="timing-control-item">
                                <label class="timing-control-label">Stop Time</label>
                                <div class="input-group">
                                    <input type="time" id="divergence_stop_time" class="timing-input" value="16:00">
                                </div>
                            </div>
                            <div class="timing-control-item">
                                <label class="timing-control-label">Market Only</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="divergence_market_hours_only" checked>
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Strategy Watchlist -->
                    <div class="strategy-watchlist">
                        <div class="watchlist-header">
                            <button class="watchlist-toggle-btn" onclick="toggleStrategyWatchlist('divergence')">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <h4 class="watchlist-title">
                                <i class="fas fa-eye"></i>
                                Strategy Watchlist
                            </h4>
                            <button class="watchlist-add-btn" onclick="addToStrategyWatchlist('divergence')">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="watchlist-content">
                            <div class="watchlist-symbols">
                                <!-- Symbols will be loaded dynamically from trading_config_live.json -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="strategy-signals" id="divergence-signals">
                <div class="signal-placeholder">
                    <i class="fas fa-clock"></i>
                    <span>Waiting for signals...</span>
                </div>
            </div>
        </div>
        </div>
    </div>
</section>
